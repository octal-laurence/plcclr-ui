{"version":3,"file":"static/webpack/static\\development\\pages\\client\\certification-form.js.ba55ea4a476d492632f0.hot-update.js","sources":["webpack:///./pages/client/certification-form/index.js"],"sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {withRouter} from 'next/router';\r\n\r\nimport Wrapper from '../../wrapper';\r\nimport Layout from '../../components/layout';\r\nimport NavTabs from '../../components/navTabs';\r\n\r\nimport Box from '../../ui/box';\r\nimport InputText from '../../ui/inputText';\r\nimport Button from '../../ui/button';\r\n\r\nimport ApplicantInfo from './applicantInfo';\r\nimport ApplicantIDPhoto from './idPhoto';\r\nimport ApplicantFingerPrint from './fingerPrint';\r\nimport ApplicantSignature from './signature';\r\nimport ApplicantInfoSummary from './summary';\r\n\r\nclass CertificationForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    \r\n    this.navTabs = [{\r\n      tab: 'applicantInfo',\r\n      label: 'Start',\r\n    }, {\r\n      tab: 'applicantIDPhoto',\r\n      label: 'ID Photo',\r\n    }, {\r\n      tab: 'applicantFingerPrint',\r\n      label: 'Finger Print',\r\n    }, {\r\n      tab: 'applicantSignature',\r\n      label: 'Signature',\r\n    }, {\r\n      tab: 'summary',\r\n      label: 'Summary',\r\n    }];\r\n\r\n    this.state = {\r\n      applicantInfo: {\r\n        firstName: '',\r\n        lastName: '',\r\n        middleName: '',\r\n        suffix: '',\r\n        address1: '',\r\n        address2: '',\r\n        barangay: '',\r\n        city: '',\r\n        province: '',\r\n        gender: '',\r\n        civilStatus: '',\r\n        dateBirth: '',\r\n        birthPlace: '',\r\n        religion: '',\r\n        height: '',\r\n        weight: '',\r\n        occupation: '',\r\n        citizenship: '',\r\n        contactNumber: '',\r\n        purpose: '',\r\n        certResidency: '',\r\n        certResidencyIssuedAt: '',\r\n        ctcIssuedDate: '',\r\n      },\r\n      applicantIDPhoto: {\r\n        blob: '',\r\n      },\r\n      applicantFingerPrint: {\r\n        leftThumb: '',\r\n        rightThumb: '',\r\n      },\r\n      applicantSignature: {\r\n        blob: '',\r\n      },\r\n      navTabs: this.navTabs.reduce((json, elem) => {\r\n        json[elem.tab] = 0;\r\n        return json;\r\n      }, {})\r\n    };\r\n\r\n    this.renderNavTabs = this.renderNavTabs.bind(this);\r\n    this.applicantInfoInputHandler = this.applicantInfoInputHandler.bind(this);\r\n    this.switchTabHandler = this.switchPageHandler.bind(this);\r\n    this.submitApplicantEntry = this.submitApplicantEntry.bind(this);\r\n  }\r\n  applicantInfoInputHandler(field, value) {\r\n    this.setState({\r\n      applicantInfo: {\r\n        ...this.state.applicantInfo,\r\n        [field]: value,\r\n      }\r\n    });\r\n  }\r\n  switchPageHandler(tab) {\r\n    const navTabsStat = this.navTabs.reduce((json, elem) => {\r\n      json[elem.tab] = 0;\r\n      return json;\r\n    }, {});\r\n\r\n    this.setState({\r\n      navTabs: {\r\n        ...navTabsStat,\r\n        [tab]: 1\r\n      }\r\n    });\r\n  }\r\n  submitApplicantEntry() {\r\n    const applicantData = {\r\n      ...this.state.applicantInfo,\r\n      applicantIDPhoto: this.state.applicantIDPhoto.blob,\r\n      applicantFingerPrint: this.state.applicantFingerPrint,\r\n      applicantSignature: this.state.applicantSignature.blob\r\n    }\r\n\r\n    fetch('http://localhost:8000/PoliceClearanceCertification/testpush', {\r\n      body: JSON.stringify({\r\n        sampledata: 'ace',\r\n      }),\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Wwdg29Kvf2SE7Jb7aN3tXIkh9caXFCSZ7RQ7eqrnG7Gh6/DqxNayAc9jFFBEh7SuOZ2p0MH3DC8o1eWSvW9SmcpW1+Arq4Ims9Fon+AIL/i9Zp1eFkWrOiMche5D2t8Ur8+z5LYt5xME/ynPlXUDonww2tISFsEOoBVCSURaeCE='\r\n      },\r\n      method: 'POST',\r\n    })\r\n    .then(result => {\r\n      console.log(result.body);\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n    // fetch(url, {\r\n    //   body: JSON.stringify(params),\r\n    //   headers: {\r\n    //     'Content-Type': 'application/json',\r\n    //     ...customHeaders,\r\n    //   },\r\n    //   method,\r\n    // })\r\n\r\n    // console.log(fetch);\r\n    // console.log(applicantData);\r\n  }\r\n  componentDidMount() {\r\n    this.switchPageHandler('applicantInfo');\r\n  }\r\n  renderNavTabs() {\r\n    return (\r\n      <ul className=\"nav nav-tabs\">{\r\n        this.navTabs.map((item, i) => (\r\n          <li\r\n            key={`${item.tab}`}\r\n            className={`nav-item`}\r\n            onClick={(e) => {\r\n              this.switchPageHandler(item.tab)\r\n            }}\r\n          >\r\n            <a className={`nav-link ${this.state.navTabs[item.tab] === 1 && `active`}`} href=\"#\">{item.label}</a>\r\n          </li>\r\n        ))\r\n      }\r\n      </ul>\r\n    );\r\n  }\r\n  render() {\r\n    return (\r\n      <Layout>\r\n        <Box className=\"container\">\r\n          { this.renderNavTabs() }\r\n          <div id=\"formContents\" className=\"container\">\r\n            <form\r\n              onSubmit={(e) => {\r\n                e.preventDefault();\r\n                this.submitApplicantEntry();\r\n              }}\r\n            >\r\n              { this.state.navTabs.applicantInfo === 1 && \r\n                <ApplicantInfo\r\n                  applicantInfoInputHandler={this.applicantInfoInputHandler}\r\n                  switchPageHandler={() => this.switchPageHandler(this.navTabs[1].tab)} \r\n                  applicantInfo={this.state.applicantInfo}\r\n                /> \r\n              }\r\n              { this.state.navTabs.applicantIDPhoto === 1 &&\r\n                <ApplicantIDPhoto supreme={this} />\r\n              }\r\n              { this.state.navTabs.applicantFingerPrint === 1 &&\r\n                <ApplicantFingerPrint supreme={this} />\r\n              }\r\n              { this.state.navTabs.applicantSignature === 1 &&\r\n                <ApplicantSignature supreme={this} />\r\n              }\r\n              { this.state.navTabs.summary === 1 &&\r\n                <ApplicantInfoSummary />\r\n              }\r\n              <hr />\r\n              <div className=\"container\" align=\"right\">\r\n                <button type=\"submit\">\r\n                  Save\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </Box>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nconst InjectedRouter = withRouter(CertificationForm);\r\n\r\nexport default () => Wrapper(InjectedRouter);"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AAEA;AACA;AACA;AAFA;AAIA;AACA;AAFA;AAIA;AACA;AAFA;AAIA;AACA;AAFA;AAIA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvBA;AAyBA;AACA;AADA;AAGA;AACA;AACA;AAFA;AAIA;AACA;AADA;AAGA;AACA;AACA;AACA;AAvCA;AA0CA;AACA;AACA;AACA;AAjEA;AAkEA;AACA;;;AAAA;AACA;AACA;AADA;AAMA;;;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AADA;AAMA;;;AACA;AACA;AAEA;AACA;AACA;AAJA;AACA;AAMA;AACA;AACA;AADA;AAGA;AACA;AACA;AAFA;AAIA;AARA;AAWA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;AACA;AACA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AALA;AAOA;AAAA;AAAA;AARA;AAcA;;;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AAEA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AAJA;AAQA;AACA;AAAA;AAAA;AACA;AAHA;AAOA;AAAA;AAGA;AAAA;AAGA;AAAA;AAMA;AAAA;AAAA;AACA;AAAA;AASA;;;;AA5LA;AACA;AA8LA;AAEA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}